import{a as Y,b as R,c as z,d as U,e as j,f as A,g as B}from"./chunk-DY7DWGHU.js";import{a as D,b as N,c as W}from"./chunk-S76Z7UMZ.js";import{g as V}from"./chunk-7INUDOVH.js";import{$ as p,Fa as E,Gb as F,Hb as P,Jb as k,Ka as f,Ra as a,Ta as r,Ua as n,Va as _,Wa as L,Xa as v,Ya as u,aa as g,ab as I,bb as s,cb as C,db as b,fb as S,gb as y,hb as x,kb as T,nb as O,ta as M,wa as i,xa as w}from"./chunk-NP4V3FYK.js";var q=t=>["/teams",t];function G(t,c){if(t&1&&(r(0,"option",17),s(1),n()),t&2){let e=c.$implicit;a("value",e),i(),C(e)}}function H(t,c){t&1&&(r(0,"div"),_(1,"app-loading-spinner",18),n()),t&2&&(i(),a("message","Loading teams..."))}function J(t,c){if(t&1&&(r(0,"div",22),_(1,"app-error-message",18),n()),t&2){let e=u(2);i(),a("message",e.error)}}function K(t,c){t&1&&(r(0,"div",23)(1,"h4"),s(2,"No teams found for the selected criteria"),n()())}function Q(t,c){if(t&1&&(r(0,"div",25)(1,"div",26)(2,"div",27)(3,"h3",28)(4,"a",29),s(5),n()(),r(6,"div",30)(7,"div",31)(8,"span",32),s(9,"Nationality"),n(),r(10,"span",33),s(11),n()()(),r(12,"div",34)(13,"a",35),s(14," Team Profile "),n(),r(15,"a",36),s(16," Wikipedia "),n()()()()()),t&2){let e=c.$implicit;i(4),a("routerLink",T(5,q,e.constructorId)),i(),b(" ",e.name," "),i(6),C(e.nationality),i(2),a("routerLink",T(7,q,e.constructorId)),i(2),a("href",e.url,M)}}function X(t,c){if(t&1&&(r(0,"div",7),f(1,Q,17,9,"div",24),n()),t&2){let e=u(2);i(),a("ngForOf",e.filteredConstructors)}}function Z(t,c){if(t&1&&f(0,J,2,1,"div",19)(1,K,3,0,"div",20)(2,X,2,1,"div",21),t&2){let e=u();a("ngIf",e.error),i(),a("ngIf",!e.error&&e.filteredConstructors.length===0),i(),a("ngIf",e.filteredConstructors.length>0)}}var le=(()=>{class t{constructor(e){this.f1Service=e,this.constructors=[],this.filteredConstructors=[],this.isLoading=!0,this.error="",this.selectedSeason=new Date().getFullYear(),this.searchTerm="",this.availableYears=[];let l=new Date().getFullYear();for(let o=l;o>=2e3;o--)this.availableYears.push(o)}ngOnInit(){this.loadConstructors()}loadConstructors(){this.isLoading=!0,this.error="",this.selectedSeason===new Date().getFullYear()?this.f1Service.getCurrentConstructors().subscribe({next:e=>{this.constructors=e.MRData.ConstructorTable.Constructors,this.filterConstructors(),this.isLoading=!1},error:e=>{console.error("Error loading constructors:",e),this.error="Unable to load teams. Please try again later.",this.isLoading=!1}}):this.f1Service.getConstructorStandings(this.selectedSeason).subscribe({next:e=>{e.MRData.StandingsTable.StandingsLists.length>0?(this.constructors=e.MRData.StandingsTable.StandingsLists[0].ConstructorStandings.map(l=>l.Constructor),this.filterConstructors()):(this.constructors=[],this.filteredConstructors=[]),this.isLoading=!1},error:e=>{console.error("Error loading historical constructors:",e),this.error="Unable to load historical teams. Please try again later.",this.isLoading=!1}})}filterConstructors(){if(!this.searchTerm){this.filteredConstructors=[...this.constructors];return}let e=this.searchTerm.toLowerCase();this.filteredConstructors=this.constructors.filter(l=>l.name.toLowerCase().includes(e)||l.nationality.toLowerCase().includes(e))}static{this.\u0275fac=function(l){return new(l||t)(w(W))}}static{this.\u0275cmp=E({type:t,selectors:[["app-teams"]],decls:24,vars:6,consts:[["constructorsContent",""],[1,"page-transition"],[1,"page-header","bg-f1-blue","text-white","mb-4"],[1,"container"],[1,"mb-2"],[1,"mb-0"],[1,"filters-container","mb-4"],[1,"row"],[1,"col-md-4"],[1,"form-group"],["for","seasonSelect",1,"form-label"],["id","seasonSelect",1,"form-control",3,"ngModelChange","change","ngModel"],[3,"value",4,"ngFor","ngForOf"],[1,"col-md-8"],["for","searchInput",1,"form-label"],["type","text","id","searchInput","placeholder","Search by team name or nationality...",1,"form-control",3,"ngModelChange","input","ngModel"],[4,"ngIf","ngIfElse"],[3,"value"],[3,"message"],["class","mb-4",4,"ngIf"],["class","text-center my-5",4,"ngIf"],["class","row",4,"ngIf"],[1,"mb-4"],[1,"text-center","my-5"],["class","col-md-6 mb-4",4,"ngFor","ngForOf"],[1,"col-md-6","mb-4"],[1,"f1-card","team-card"],[1,"team-info"],[1,"team-name"],[1,"team-link",3,"routerLink"],[1,"team-details"],[1,"detail-item"],[1,"detail-label"],[1,"detail-value"],[1,"team-actions","mt-3"],[1,"btn","f1-btn","f1-btn-primary","btn-sm",3,"routerLink"],["target","_blank",1,"btn","f1-btn","f1-btn-secondary","btn-sm","ms-2",3,"href"]],template:function(l,o){if(l&1){let d=L();r(0,"div",1)(1,"div",2)(2,"div",3)(3,"h1",4),s(4,"F1 Teams"),n(),r(5,"p",5),s(6),n()()(),r(7,"div",3)(8,"div",6)(9,"div",7)(10,"div",8)(11,"div",9)(12,"label",10),s(13,"Season"),n(),r(14,"select",11),x("ngModelChange",function(m){return p(d),y(o.selectedSeason,m)||(o.selectedSeason=m),g(m)}),v("change",function(){return p(d),g(o.loadConstructors())}),f(15,G,2,2,"option",12),n()()(),r(16,"div",13)(17,"div",9)(18,"label",14),s(19,"Search"),n(),r(20,"input",15),x("ngModelChange",function(m){return p(d),y(o.searchTerm,m)||(o.searchTerm=m),g(m)}),v("input",function(){return p(d),g(o.filterConstructors())}),n()()()()(),f(21,H,2,1,"div",16)(22,Z,3,3,"ng-template",null,0,O),n()()}if(l&2){let d=I(23);i(6),b("Formula 1 Constructors for ",o.selectedSeason,""),i(8),S("ngModel",o.selectedSeason),i(),a("ngForOf",o.availableYears),i(5),S("ngModel",o.searchTerm),i(),a("ngIf",o.isLoading)("ngIfElse",d)}},dependencies:[k,F,P,B,j,A,Y,U,R,z,V,D,N],styles:['.page-header[_ngcontent-%COMP%]{padding:3rem 0;margin-top:-1rem;position:relative}.page-header[_ngcontent-%COMP%]:after{content:"";position:absolute;bottom:0;left:0;right:0;height:5px;background-color:var(--f1-red)}.filters-container[_ngcontent-%COMP%]{background-color:#fff;border-radius:8px;padding:1.5rem;box-shadow:0 2px 4px #0000000d}.form-label[_ngcontent-%COMP%]{font-weight:600;color:var(--f1-blue);margin-bottom:.5rem}.team-card[_ngcontent-%COMP%]{position:relative;padding:1.5rem;height:100%;display:flex;flex-direction:column}.team-name[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:700;margin-bottom:1rem}.team-link[_ngcontent-%COMP%]{color:var(--f1-blue);text-decoration:none;transition:color .2s}.team-link[_ngcontent-%COMP%]:hover{color:var(--f1-red)}.detail-item[_ngcontent-%COMP%]{margin-bottom:.5rem;display:flex;justify-content:space-between}.detail-label[_ngcontent-%COMP%]{font-size:.85rem;color:var(--f1-medium-gray)}.detail-value[_ngcontent-%COMP%]{font-weight:600;color:var(--f1-blue)}.team-actions[_ngcontent-%COMP%]{display:flex;margin-top:auto}']})}}return t})();export{le as TeamsComponent};
