import{b as k,c as F,d as N,e as W,f as R,g as Y}from"./chunk-DY7DWGHU.js";import{a as L,b as D,c as w}from"./chunk-S76Z7UMZ.js";import{g as P}from"./chunk-7INUDOVH.js";import{Fa as I,Gb as M,Hb as T,Jb as O,Ka as g,Ra as a,Ta as n,Ua as i,Va as v,Xa as u,Ya as l,ab as x,bb as o,cb as c,db as _,fb as C,gb as h,hb as E,kb as f,nb as y,wa as r,xa as b}from"./chunk-NP4V3FYK.js";var U=e=>["/drivers",e],B=e=>["/teams",e];function j(e,s){if(e&1&&(n(0,"option",19),o(1),i()),e&2){let t=s.$implicit;a("value",t),r(),c(t)}}function z(e,s){e&1&&(n(0,"div"),v(1,"app-loading-spinner",21),i()),e&2&&(r(),a("message","Loading driver standings..."))}function A(e,s){if(e&1&&(n(0,"div",25),v(1,"app-error-message",21),i()),e&2){let t=l(3);r(),a("message",t.driversError)}}function V(e,s){if(e&1&&(n(0,"div",26)(1,"h4"),o(2),i()()),e&2){let t=l(3);r(2),_("No driver standings available for ",t.selectedSeason,"")}}function q(e,s){if(e&1&&(n(0,"a",36),o(1),i()),e&2){let t=l().$implicit;a("routerLink",f(2,B,t.Constructors[0].constructorId)),r(),_(" ",t.Constructors[0].name," ")}}function G(e,s){if(e&1&&(n(0,"tr")(1,"td"),o(2),i(),n(3,"td")(4,"a",32),o(5),n(6,"span",33),o(7),i()()(),n(8,"td"),o(9),i(),n(10,"td"),g(11,q,2,4,"a",34),i(),n(12,"td",29),o(13),i(),n(14,"td",35),o(15),i()()),e&2){let t=s.$implicit;r(2),c(t.position),r(2),a("routerLink",f(8,U,t.Driver.driverId)),r(),_(" ",t.Driver.givenName," "),r(2),c(t.Driver.familyName),r(2),c(t.Driver.nationality),r(2),a("ngIf",t.Constructors&&t.Constructors.length>0),r(2),c(t.wins),r(2),c(t.points)}}function H(e,s){if(e&1&&(n(0,"div",27)(1,"table",28)(2,"thead")(3,"tr")(4,"th"),o(5,"Pos"),i(),n(6,"th"),o(7,"Driver"),i(),n(8,"th"),o(9,"Nationality"),i(),n(10,"th"),o(11,"Car"),i(),n(12,"th",29),o(13,"Wins"),i(),n(14,"th",30),o(15,"Points"),i()()(),n(16,"tbody"),g(17,G,16,10,"tr",31),i()()()),e&2){let t=l(3);r(17),a("ngForOf",t.driverStandings)}}function J(e,s){if(e&1&&g(0,A,2,1,"div",22)(1,V,3,1,"div",23)(2,H,18,1,"div",24),e&2){let t=l(2);a("ngIf",t.driversError),r(),a("ngIf",!t.driversError&&t.driverStandings.length===0),r(),a("ngIf",t.driverStandings.length>0)}}function K(e,s){if(e&1&&(n(0,"div"),g(1,z,2,1,"div",20)(2,J,3,3,"ng-template",null,0,y),i()),e&2){let t=x(3),m=l();r(),a("ngIf",m.isLoadingDrivers)("ngIfElse",t)}}function Q(e,s){e&1&&(n(0,"div"),v(1,"app-loading-spinner",21),i()),e&2&&(r(),a("message","Loading constructor standings..."))}function X(e,s){if(e&1&&(n(0,"div",25),v(1,"app-error-message",21),i()),e&2){let t=l(3);r(),a("message",t.constructorsError)}}function Z(e,s){if(e&1&&(n(0,"div",26)(1,"h4"),o(2),i()()),e&2){let t=l(3);r(2),_("No constructor standings available for ",t.selectedSeason,"")}}function $(e,s){if(e&1&&(n(0,"tr")(1,"td"),o(2),i(),n(3,"td")(4,"a",36),o(5),i()(),n(6,"td"),o(7),i(),n(8,"td",29),o(9),i(),n(10,"td",35),o(11),i()()),e&2){let t=s.$implicit;r(2),c(t.position),r(2),a("routerLink",f(6,B,t.Constructor.constructorId)),r(),_(" ",t.Constructor.name," "),r(2),c(t.Constructor.nationality),r(2),c(t.wins),r(2),c(t.points)}}function tt(e,s){if(e&1&&(n(0,"div",27)(1,"table",28)(2,"thead")(3,"tr")(4,"th"),o(5,"Pos"),i(),n(6,"th"),o(7,"Team"),i(),n(8,"th"),o(9,"Nationality"),i(),n(10,"th",29),o(11,"Wins"),i(),n(12,"th",30),o(13,"Points"),i()()(),n(14,"tbody"),g(15,$,12,8,"tr",31),i()()()),e&2){let t=l(3);r(15),a("ngForOf",t.constructorStandings)}}function et(e,s){if(e&1&&g(0,X,2,1,"div",22)(1,Z,3,1,"div",23)(2,tt,16,1,"div",24),e&2){let t=l(2);a("ngIf",t.constructorsError),r(),a("ngIf",!t.constructorsError&&t.constructorStandings.length===0),r(),a("ngIf",t.constructorStandings.length>0)}}function nt(e,s){if(e&1&&(n(0,"div"),g(1,Q,2,1,"div",20)(2,et,3,3,"ng-template",null,1,y),i()),e&2){let t=x(3),m=l();r(),a("ngIf",m.isLoadingConstructors)("ngIfElse",t)}}var gt=(()=>{class e{constructor(t){this.f1Service=t,this.driverStandings=[],this.isLoadingDrivers=!0,this.driversError="",this.constructorStandings=[],this.isLoadingConstructors=!0,this.constructorsError="",this.selectedSeason=2024,this.selectedStandingType="drivers",this.availableYears=[];let m=new Date().getFullYear();for(let d=m;d>=2e3;d--)this.availableYears.push(d)}ngOnInit(){this.loadStandings()}loadStandings(){this.loadDriverStandings(),this.loadConstructorStandings()}loadDriverStandings(){this.isLoadingDrivers=!0,this.driversError="",this.f1Service.getDriverStandings(this.selectedSeason).subscribe({next:t=>{t.MRData.StandingsTable.StandingsLists.length>0?this.driverStandings=t.MRData.StandingsTable.StandingsLists[0].DriverStandings:this.driverStandings=[],this.isLoadingDrivers=!1},error:t=>{console.error("Error loading driver standings:",t),this.driversError="Unable to load driver standings. Please try again later.",this.isLoadingDrivers=!1}})}loadConstructorStandings(){this.isLoadingConstructors=!0,this.constructorsError="",this.f1Service.getConstructorStandings(this.selectedSeason).subscribe({next:t=>{t.MRData.StandingsTable.StandingsLists.length>0?this.constructorStandings=t.MRData.StandingsTable.StandingsLists[0].ConstructorStandings:this.constructorStandings=[],this.isLoadingConstructors=!1},error:t=>{console.error("Error loading constructor standings:",t),this.constructorsError="Unable to load constructor standings. Please try again later.",this.isLoadingConstructors=!1}})}toggleStandingType(){}static{this.\u0275fac=function(m){return new(m||e)(b(w))}}static{this.\u0275cmp=I({type:e,selectors:[["app-standings"]],decls:27,vars:6,consts:[["driversContent",""],["constructorsContent",""],[1,"page-transition"],[1,"page-header","bg-f1-blue","text-white","mb-4"],[1,"container"],[1,"mb-2"],[1,"mb-0"],[1,"filters-container","mb-4"],[1,"row"],[1,"col-md-4"],[1,"form-group"],["for","seasonSelect",1,"form-label"],["id","seasonSelect",1,"form-control",3,"ngModelChange","change","ngModel"],[3,"value",4,"ngFor","ngForOf"],["for","standingTypeSelect",1,"form-label"],["id","standingTypeSelect",1,"form-control",3,"ngModelChange","change","ngModel"],["value","drivers"],["value","constructors"],[4,"ngIf"],[3,"value"],[4,"ngIf","ngIfElse"],[3,"message"],["class","mb-4",4,"ngIf"],["class","text-center my-5",4,"ngIf"],["class","f1-card",4,"ngIf"],[1,"mb-4"],[1,"text-center","my-5"],[1,"f1-card"],[1,"f1-table","w-100"],[1,"text-center"],[1,"text-end"],[4,"ngFor","ngForOf"],[1,"driver-link",3,"routerLink"],[1,"text-uppercase","fw-bold"],["class","team-link",3,"routerLink",4,"ngIf"],[1,"text-end","fw-bold"],[1,"team-link",3,"routerLink"]],template:function(m,d){m&1&&(n(0,"div",2)(1,"div",3)(2,"div",4)(3,"h1",5),o(4,"Championship Standings"),i(),n(5,"p",6),o(6),i()()(),n(7,"div",4)(8,"div",7)(9,"div",8)(10,"div",9)(11,"div",10)(12,"label",11),o(13,"Season"),i(),n(14,"select",12),E("ngModelChange",function(p){return h(d.selectedSeason,p)||(d.selectedSeason=p),p}),u("change",function(){return d.loadStandings()}),g(15,j,2,2,"option",13),i()()(),n(16,"div",9)(17,"div",10)(18,"label",14),o(19,"Standings Type"),i(),n(20,"select",15),E("ngModelChange",function(p){return h(d.selectedStandingType,p)||(d.selectedStandingType=p),p}),u("change",function(){return d.toggleStandingType()}),n(21,"option",16),o(22,"Drivers"),i(),n(23,"option",17),o(24,"Constructors"),i()()()()()(),g(25,K,4,2,"div",18)(26,nt,4,2,"div",18),i()()),m&2&&(r(6),_("Formula 1 Driver and Constructor Standings for ",d.selectedSeason,""),r(8),C("ngModel",d.selectedSeason),r(),a("ngForOf",d.availableYears),r(5),C("ngModel",d.selectedStandingType),r(5),a("ngIf",d.selectedStandingType==="drivers"),r(),a("ngIf",d.selectedStandingType==="constructors"))},dependencies:[O,M,T,Y,W,R,N,k,F,L,D,P],styles:['.page-header[_ngcontent-%COMP%]{padding:3rem 0;margin-top:-1rem;position:relative}.page-header[_ngcontent-%COMP%]:after{content:"";position:absolute;bottom:0;left:0;right:0;height:5px;background-color:var(--f1-red)}.filters-container[_ngcontent-%COMP%]{background-color:#fff;border-radius:8px;padding:1.5rem;box-shadow:0 2px 4px #0000000d}.form-label[_ngcontent-%COMP%]{font-weight:600;color:var(--f1-blue);margin-bottom:.5rem}.driver-link[_ngcontent-%COMP%], .team-link[_ngcontent-%COMP%]{color:var(--f1-blue);text-decoration:none;transition:color .2s}.driver-link[_ngcontent-%COMP%]:hover, .team-link[_ngcontent-%COMP%]:hover{color:var(--f1-red)}.f1-table[_ngcontent-%COMP%]{font-size:.95rem}.f1-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:1rem .75rem}.f1-table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(1)   td[_ngcontent-%COMP%]{border-left:3px solid gold}.f1-table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(2)   td[_ngcontent-%COMP%]{border-left:3px solid silver}.f1-table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(3)   td[_ngcontent-%COMP%]{border-left:3px solid #cd7f32}']})}}return e})();export{gt as StandingsComponent};
