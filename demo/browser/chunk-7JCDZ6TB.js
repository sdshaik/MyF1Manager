import{a as N,b as F,c as z}from"./chunk-S76Z7UMZ.js";import{g as S}from"./chunk-7INUDOVH.js";import{Fa as u,Fb as k,Gb as L,Hb as _,Jb as C,Ka as p,Ra as l,Ta as i,Ua as n,Va as f,Ya as m,ab as h,bb as o,cb as s,db as x,eb as D,jb as T,kb as y,lb as w,nb as b,wa as r,xa as O}from"./chunk-NP4V3FYK.js";function A(t,d){if(t&1&&(i(0,"div",29)(1,"span",30),o(2,"Practice 1"),n(),i(3,"span",31),o(4),n(),i(5,"span",32),o(6),n()()),t&2){let e=m();r(4),s(e.formatDate(e.race.FirstPractice.date)),r(2),s(e.formatTime(e.race.FirstPractice.time))}}function $(t,d){if(t&1&&(i(0,"div",29)(1,"span",30),o(2,"Practice 2"),n(),i(3,"span",31),o(4),n(),i(5,"span",32),o(6),n()()),t&2){let e=m();r(4),s(e.formatDate(e.race.SecondPractice.date)),r(2),s(e.formatTime(e.race.SecondPractice.time))}}function Q(t,d){if(t&1&&(i(0,"div",29)(1,"span",30),o(2,"Practice 3"),n(),i(3,"span",31),o(4),n(),i(5,"span",32),o(6),n()()),t&2){let e=m();r(4),s(e.formatDate(e.race.ThirdPractice.date)),r(2),s(e.formatTime(e.race.ThirdPractice.time))}}function Z(t,d){if(t&1&&(i(0,"div",29)(1,"span",30),o(2,"Qualifying"),n(),i(3,"span",31),o(4),n(),i(5,"span",32),o(6),n()()),t&2){let e=m();r(4),s(e.formatDate(e.race.Qualifying.date)),r(2),s(e.formatTime(e.race.Qualifying.time))}}function q(t,d){if(t&1&&(i(0,"div",29)(1,"span",30),o(2,"Sprint"),n(),i(3,"span",31),o(4),n(),i(5,"span",32),o(6),n()()),t&2){let e=m();r(4),s(e.formatDate(e.race.Sprint.date)),r(2),s(e.formatTime(e.race.Sprint.time))}}var H=(()=>{class t{formatDate(e){return e?new Date(e).toLocaleDateString("en-US",{weekday:"short",month:"short",day:"numeric"}):"TBA"}formatTime(e){if(!e)return"TBA";let c=e.split("Z")[0],[a,v]=c.split(":"),g=new Date;return g.setHours(parseInt(a,10)),g.setMinutes(parseInt(v,10)),g.toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit"})}static{this.\u0275fac=function(c){return new(c||t)}}static{this.\u0275cmp=u({type:t,selectors:[["app-next-race-card"]],inputs:{race:"race"},decls:57,vars:15,consts:[[1,"f1-card","next-race-card"],[1,"card-race-info"],[1,"row"],[1,"col-md-7"],[1,"race-name"],[1,"race-location"],[1,"location-divider","mx-2"],[1,"race-date-time","mt-3"],[1,"date-block"],[1,"date-label"],[1,"date-value"],[1,"time-block","ms-4"],[1,"time-label"],[1,"time-value"],[1,"race-sessions","mt-4"],[1,"sessions-title","mb-3"],[1,"sessions-container"],["class","session-item",4,"ngIf"],[1,"col-md-5"],[1,"circuit-container"],[1,"circuit-placeholder"],[1,"flag-container"],[1,"country-name"],[1,"circuit-name-overlay"],[1,"circuit-info","mt-3"],[1,"d-flex","justify-content-between","align-items-center","mb-2"],[1,"info-label"],[1,"info-value"],[1,"d-flex","justify-content-between","align-items-center"],[1,"session-item"],[1,"session-name"],[1,"session-date"],[1,"session-time"]],template:function(c,a){c&1&&(i(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h3",4),o(5),n(),i(6,"div",5)(7,"span"),o(8),n(),i(9,"span",6),o(10,"|"),n(),i(11,"span"),o(12),n()(),i(13,"div",7)(14,"div",8)(15,"span",9),o(16,"Race Date"),n(),i(17,"span",10),o(18),n()(),i(19,"div",11)(20,"span",12),o(21,"Race Time"),n(),i(22,"span",13),o(23),n()()(),i(24,"div",14)(25,"h5",15),o(26,"Race Weekend Schedule"),n(),i(27,"div",16),p(28,A,7,2,"div",17)(29,$,7,2,"div",17)(30,Q,7,2,"div",17)(31,Z,7,2,"div",17)(32,q,7,2,"div",17),n()()(),i(33,"div",18)(34,"div",19)(35,"div",20)(36,"div",21)(37,"span",22),o(38),n()(),i(39,"div",23),o(40),n()(),i(41,"div",24)(42,"div",25)(43,"span",26),o(44,"Round"),n(),i(45,"span",27),o(46),n()(),i(47,"div",25)(48,"span",26),o(49,"Season"),n(),i(50,"span",27),o(51),n()(),i(52,"div",28)(53,"span",26),o(54,"Location"),n(),i(55,"span",27),o(56),n()()()()()()()()),c&2&&(r(5),s(a.race.raceName),r(3),s(a.race.Circuit.circuitName),r(4),s(a.race.Circuit.Location.country),r(6),s(a.formatDate(a.race.date)),r(5),s(a.formatTime(a.race.time)),r(5),l("ngIf",a.race.FirstPractice),r(),l("ngIf",a.race.SecondPractice),r(),l("ngIf",a.race.ThirdPractice),r(),l("ngIf",a.race.Qualifying),r(),l("ngIf",a.race.Sprint),r(6),s(a.race.Circuit.Location.country),r(2),s(a.race.Circuit.circuitName),r(6),s(a.race.round),r(5),s(a.race.season),r(5),s(a.race.Circuit.Location.locality))},dependencies:[C,_],styles:[".next-race-card[_ngcontent-%COMP%]{padding:2rem}.race-name[_ngcontent-%COMP%]{font-size:2rem;font-weight:700;color:var(--f1-red);margin-bottom:.5rem}.race-location[_ngcontent-%COMP%]{font-size:1.1rem;color:var(--f1-dark-gray)}.location-divider[_ngcontent-%COMP%]{color:var(--f1-medium-gray)}.race-date-time[_ngcontent-%COMP%]{display:flex;margin-top:1.5rem}.date-block[_ngcontent-%COMP%], .time-block[_ngcontent-%COMP%]{display:flex;flex-direction:column}.date-label[_ngcontent-%COMP%], .time-label[_ngcontent-%COMP%]{font-size:.9rem;color:var(--f1-medium-gray);margin-bottom:.25rem}.date-value[_ngcontent-%COMP%], .time-value[_ngcontent-%COMP%]{font-size:1.2rem;font-weight:600;color:var(--f1-blue)}.sessions-title[_ngcontent-%COMP%]{font-size:1.1rem;font-weight:600;color:var(--f1-blue)}.sessions-container[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,minmax(200px,1fr));gap:1rem}.session-item[_ngcontent-%COMP%]{display:flex;flex-direction:column;padding:.75rem;background-color:var(--f1-light-gray);border-radius:8px}.session-name[_ngcontent-%COMP%]{font-weight:600;color:var(--f1-blue);margin-bottom:.25rem}.session-date[_ngcontent-%COMP%], .session-time[_ngcontent-%COMP%]{font-size:.9rem;color:var(--f1-dark-gray)}.circuit-container[_ngcontent-%COMP%]{height:100%;display:flex;flex-direction:column}.circuit-placeholder[_ngcontent-%COMP%]{background-color:var(--f1-light-gray);height:250px;border-radius:8px;display:flex;align-items:center;justify-content:center;position:relative;overflow:hidden}.flag-container[_ngcontent-%COMP%]{position:absolute;top:0;left:0;right:0;background-color:var(--f1-blue);color:#fff;padding:.5rem;text-align:center}.country-name[_ngcontent-%COMP%]{font-weight:600;text-transform:uppercase;letter-spacing:1px}.circuit-name-overlay[_ngcontent-%COMP%]{position:absolute;bottom:0;left:0;right:0;background-color:#000e2fcc;color:#fff;padding:.75rem;text-align:center;font-weight:600}.circuit-info[_ngcontent-%COMP%]{background-color:var(--f1-light-gray);padding:1rem;border-radius:8px}.info-label[_ngcontent-%COMP%]{font-size:.9rem;color:var(--f1-medium-gray)}.info-value[_ngcontent-%COMP%]{font-weight:600;color:var(--f1-blue)}@media (max-width: 768px){.circuit-placeholder[_ngcontent-%COMP%]{height:200px;margin-top:2rem}.race-date-time[_ngcontent-%COMP%]{flex-direction:column}.time-block[_ngcontent-%COMP%]{margin-left:0!important;margin-top:1rem}}"]})}}return t})();var B=t=>["/drivers",t];function V(t,d){if(t&1&&(i(0,"div",13),o(1),n()),t&2){let e=m();r(),x(" ",e.driver.Constructors[0].name," ")}}var j=(()=>{class t{getPositionClass(){let e=parseInt(this.driver.position,10);return e===1?"position-1":e===2?"position-2":e===3?"position-3":"position-other"}static{this.\u0275fac=function(c){return new(c||t)}}static{this.\u0275cmp=u({type:t,selectors:[["app-driver-standing-card"]],inputs:{driver:"driver"},decls:24,vars:12,consts:[[1,"f1-card","driver-card"],[1,"position-indicator",3,"ngClass"],[1,"driver-details"],[1,"driver-name"],[1,"driver-link",3,"routerLink"],[1,"last-name"],[1,"driver-info"],["class","team-name",4,"ngIf"],[1,"driver-nationality"],[1,"driver-stats","mt-3"],[1,"stat-item"],[1,"stat-label"],[1,"stat-value"],[1,"team-name"]],template:function(c,a){c&1&&(i(0,"div",0)(1,"div",1),o(2),n(),i(3,"div",2)(4,"div",3)(5,"a",4),o(6),i(7,"span",5),o(8),n()()(),i(9,"div",6),p(10,V,2,1,"div",7),i(11,"div",8),o(12),n()(),i(13,"div",9)(14,"div",10)(15,"span",11),o(16,"Points"),n(),i(17,"span",12),o(18),n()(),i(19,"div",10)(20,"span",11),o(21,"Wins"),n(),i(22,"span",12),o(23),n()()()()()),c&2&&(r(),l("ngClass",a.getPositionClass()),r(),x(" ",a.driver.position," "),r(3),l("routerLink",y(10,B,a.driver.Driver.driverId)),r(),x(" ",a.driver.Driver.givenName," "),r(2),D("",a.driver.Driver.familyName," - ",a.driver.Driver.permanentNumber,""),r(2),l("ngIf",a.driver.Constructors&&a.driver.Constructors.length>0),r(2),s(a.driver.Driver.nationality),r(6),s(a.driver.points),r(5),s(a.driver.wins))},dependencies:[C,k,_,S],styles:[".driver-card[_ngcontent-%COMP%]{position:relative;padding:1.5rem;display:flex;flex-direction:column;height:100%;overflow:hidden}.position-indicator[_ngcontent-%COMP%]{position:absolute;top:0;right:0;width:40px;height:40px;display:flex;align-items:center;justify-content:center;color:#fff;font-weight:700;font-size:1.2rem}.position-1[_ngcontent-%COMP%]{background-color:gold;color:#000}.position-2[_ngcontent-%COMP%]{background-color:silver;color:#000}.position-3[_ngcontent-%COMP%]{background-color:#cd7f32}.position-other[_ngcontent-%COMP%]{background-color:var(--f1-blue)}.driver-name[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:700;margin-bottom:.5rem}.driver-link[_ngcontent-%COMP%]{color:var(--f1-blue);text-decoration:none;transition:color .2s}.driver-link[_ngcontent-%COMP%]:hover{color:var(--f1-red)}.last-name[_ngcontent-%COMP%]{text-transform:uppercase}.team-name[_ngcontent-%COMP%]{font-weight:600;color:var(--f1-blue)}.driver-nationality[_ngcontent-%COMP%]{color:var(--f1-medium-gray);font-size:.9rem}.driver-stats[_ngcontent-%COMP%]{display:flex;margin-top:auto}.stat-item[_ngcontent-%COMP%]{background-color:var(--f1-light-gray);padding:.75rem 1rem;border-radius:8px;display:flex;flex-direction:column;align-items:center;margin-right:1rem;min-width:80px}.stat-label[_ngcontent-%COMP%]{font-size:.85rem;color:var(--f1-medium-gray);margin-bottom:.25rem}.stat-value[_ngcontent-%COMP%]{font-size:1.2rem;font-weight:700;color:var(--f1-blue)}"]})}}return t})();var W=()=>["/results"],G=(t,d)=>({season:t,round:d}),M=t=>["/drivers",t];function Y(t,d){if(t&1&&(i(0,"div",19),o(1),n()),t&2){let e=m().ngIf;r(),s(e.Constructor.name)}}function J(t,d){if(t&1&&(i(0,"div",20),o(1),n()),t&2){let e=m().ngIf;r(),s(e.Time.time)}}function K(t,d){if(t&1&&(i(0,"div",11)(1,"div",12)(2,"div",13),o(3),n(),i(4,"div",14)(5,"h2"),o(6," 2 "),n(),i(7,"a",15),o(8),i(9,"span",16),o(10),n()(),p(11,Y,2,1,"div",17)(12,J,2,1,"div",18),n()()()),t&2){let e=d.ngIf;r(3),s(e.position),r(4),l("routerLink",y(6,M,e.Driver.driverId)),r(),x(" ",e.Driver.givenName," "),r(2),s(e.Driver.familyName),r(),l("ngIf",e.Constructor),r(),l("ngIf",e.Time)}}function X(t,d){if(t&1&&(i(0,"div",19),o(1),n()),t&2){let e=m().ngIf;r(),s(e.Constructor.name)}}function ee(t,d){if(t&1&&(i(0,"div",20),o(1),n()),t&2){let e=m().ngIf;r(),s(e.Time.time)}}function te(t,d){if(t&1&&(i(0,"div",21)(1,"div",12)(2,"div",13),o(3),n(),i(4,"div",14)(5,"h1"),o(6," 1 "),f(7,"i",22),n(),i(8,"a",15),o(9),i(10,"span",16),o(11),n()(),p(12,X,2,1,"div",17)(13,ee,2,1,"div",18),n()()()),t&2){let e=d.ngIf;r(3),s(e.position),r(5),l("routerLink",y(6,M,e.Driver.driverId)),r(),x(" ",e.Driver.givenName," "),r(2),s(e.Driver.familyName),r(),l("ngIf",e.Constructor),r(),l("ngIf",e.Time)}}function ne(t,d){if(t&1&&(i(0,"div",19),o(1),n()),t&2){let e=m().ngIf;r(),s(e.Constructor.name)}}function ie(t,d){if(t&1&&(i(0,"div",20),o(1),n()),t&2){let e=m().ngIf;r(),s(e.Time.time)}}function re(t,d){if(t&1&&(i(0,"div",23)(1,"div",12)(2,"div",13),o(3),n(),i(4,"div",14)(5,"h3"),o(6," 3 "),n(),i(7,"a",15),o(8),i(9,"span",16),o(10),n()(),p(11,ne,2,1,"div",17)(12,ie,2,1,"div",18),n()()()),t&2){let e=d.ngIf;r(3),s(e.position),r(4),l("routerLink",y(6,M,e.Driver.driverId)),r(),x(" ",e.Driver.givenName," "),r(2),s(e.Driver.familyName),r(),l("ngIf",e.Constructor),r(),l("ngIf",e.Time)}}var U=(()=>{class t{formatDate(e){return e?new Date(e).toLocaleDateString("en-US",{month:"long",day:"numeric",year:"numeric"}):""}getPodiumPositions(){return!this.result.Results||this.result.Results.length===0?[]:this.result.Results.sort((e,c)=>parseInt(e.position,10)-parseInt(c.position,10)).slice(0,3)}getPodiumPosition(e){return this.result?.Results?.find(c=>c.position===e)}static{this.\u0275fac=function(c){return new(c||t)}}static{this.\u0275cmp=u({type:t,selectors:[["app-recent-result-card"]],inputs:{result:"result"},decls:19,vars:12,consts:[[1,"f1-card","recent-result-card"],[1,"race-header"],[1,"race-title"],[1,"race-details"],[1,"mx-2"],[1,"podium-row"],["class","podium-slot position-2",4,"ngIf"],["class","podium-slot position-1",4,"ngIf"],["class","podium-slot position-3",4,"ngIf"],[1,"results-footer","mt-4"],[1,"btn","f1-btn","f1-btn-secondary",3,"routerLink","queryParams"],[1,"podium-slot","position-2"],[1,"podium-card"],[1,"position-number"],[1,"driver-details"],[1,"driver-name",3,"routerLink"],[1,"last-name"],["class","team-name",4,"ngIf"],["class","finishing-time",4,"ngIf"],[1,"team-name"],[1,"finishing-time"],[1,"podium-slot","position-1"],[1,"bi","bi-trophy"],[1,"podium-slot","position-3"]],template:function(c,a){c&1&&(i(0,"div",0)(1,"div",1)(2,"div",2)(3,"h3"),o(4),n(),i(5,"div",3)(6,"span"),o(7),n(),i(8,"span",4),o(9,"|"),n(),i(10,"span"),o(11),n()()()(),i(12,"div",5),p(13,K,13,8,"div",6)(14,te,14,8,"div",7)(15,re,13,8,"div",8),n(),i(16,"div",9)(17,"a",10),o(18," See Full Results "),n()()()),c&2&&(r(4),s(a.result.raceName),r(3),s(a.result.Circuit.circuitName),r(4),s(a.formatDate(a.result.date)),r(2),l("ngIf",a.getPodiumPosition("2")),r(),l("ngIf",a.getPodiumPosition("1")),r(),l("ngIf",a.getPodiumPosition("3")),r(2),l("routerLink",T(8,W))("queryParams",w(9,G,a.result.season,a.result.round)))},dependencies:[C,_,S],styles:[".recent-result-card[_ngcontent-%COMP%]{padding:1.5rem}.race-header[_ngcontent-%COMP%]{margin-bottom:1.5rem}.race-title[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{color:var(--f1-red);font-size:1.75rem;margin-bottom:.5rem}.race-details[_ngcontent-%COMP%]{color:var(--f1-dark-gray);font-size:1rem}.winners-podium[_ngcontent-%COMP%]{margin-bottom:1.5rem}.podium-position[_ngcontent-%COMP%]{background-color:var(--f1-light-gray);border-radius:8px;padding:1.5rem;height:100%;position:relative;overflow:hidden}.position-1[_ngcontent-%COMP%]{background-color:#ffd70026;border-left:4px solid gold}.position-2[_ngcontent-%COMP%]{background-color:#6494fa26;border-left:4px solid silver}.position-3[_ngcontent-%COMP%]{background-color:#cd7f3226;border-left:4px solid #cd7f32}.position-number[_ngcontent-%COMP%]{position:absolute;top:10px;right:10px;font-size:2rem;font-weight:700;color:#0000001a}.driver-name[_ngcontent-%COMP%]{font-size:1.2rem;font-weight:700;color:var(--f1-blue);text-decoration:none;display:block;margin-bottom:.5rem;transition:color .2s}.driver-name[_ngcontent-%COMP%]:hover{color:var(--f1-red)}.last-name[_ngcontent-%COMP%]{text-transform:uppercase}.team-name[_ngcontent-%COMP%]{font-size:1rem;color:var(--f1-medium-gray);margin-bottom:.5rem}.finishing-time[_ngcontent-%COMP%]{font-size:.9rem;font-weight:600;color:var(--f1-blue)}.results-footer[_ngcontent-%COMP%]{display:flex;justify-content:center}@media (max-width: 768px){.podium-position[_ngcontent-%COMP%]{margin-bottom:1rem}}.podium-row[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:flex-end;gap:1rem;margin-top:1rem;text-align:center}.podium-slot[_ngcontent-%COMP%]{flex:1;display:flex;justify-content:center}.podium-card[_ngcontent-%COMP%]{background:#f1f1f1;padding:1rem;border-radius:12px;width:100%;max-width:200px;display:flex;flex-direction:column;justify-content:flex-end;transition:all .3s ease}.podium-slot.position-2[_ngcontent-%COMP%]   .podium-card[_ngcontent-%COMP%], .podium-slot.position-3[_ngcontent-%COMP%]   .podium-card[_ngcontent-%COMP%]{height:170px}.podium-slot.position-1[_ngcontent-%COMP%]{order:0}.podium-slot.position-2[_ngcontent-%COMP%]{order:-1}.podium-slot.position-3[_ngcontent-%COMP%]{order:1}.podium-slot.position-1[_ngcontent-%COMP%]   .podium-card[_ngcontent-%COMP%]{height:210px;background:gold}"]})}}return t})();function oe(t,d){t&1&&(i(0,"div"),f(1,"app-loading-spinner",18),n()),t&2&&(r(),l("message","Loading next race..."))}function ae(t,d){if(t&1&&(i(0,"div"),f(1,"app-next-race-card",19),n()),t&2){let e=m(2);r(),l("race",e.nextRace)}}function le(t,d){if(t&1&&f(0,"app-error-message",18),t&2){let e=m(2);l("message",e.raceError||"No upcoming races found.")}}function se(t,d){if(t&1&&p(0,ae,2,1,"div",13)(1,le,1,1,"ng-template",null,3,b),t&2){let e=h(2),c=m();l("ngIf",c.nextRace)("ngIfElse",e)}}function ce(t,d){t&1&&(i(0,"div"),f(1,"app-loading-spinner",18),n()),t&2&&(r(),l("message","Loading driver standings..."))}function de(t,d){if(t&1&&(i(0,"div",23),f(1,"app-driver-standing-card",24),n()),t&2){let e=d.$implicit;r(),l("driver",e)}}function me(t,d){if(t&1&&(i(0,"div",21),p(1,de,2,1,"div",22),n()),t&2){let e=m(2);r(),l("ngForOf",e.topDrivers)}}function pe(t,d){if(t&1&&f(0,"app-error-message",18),t&2){let e=m(2);l("message",e.driversError||"No driver standings available.")}}function fe(t,d){if(t&1&&p(0,me,2,1,"div",20)(1,pe,1,1,"ng-template",null,4,b),t&2){let e=h(2),c=m();l("ngIf",c.topDrivers.length>0)("ngIfElse",e)}}function ge(t,d){t&1&&(i(0,"div"),f(1,"app-loading-spinner",18),n()),t&2&&(r(),l("message","Loading recent results..."))}function ve(t,d){if(t&1&&(i(0,"div"),f(1,"app-recent-result-card",25),n()),t&2){let e=m(2);r(),l("result",e.recentResult)}}function ue(t,d){if(t&1&&f(0,"app-error-message",18),t&2){let e=m(2);l("message",e.resultsError||"No recent race results available.")}}function xe(t,d){if(t&1&&p(0,ve,2,1,"div",13)(1,ue,1,1,"ng-template",null,5,b),t&2){let e=h(2),c=m();l("ngIf",c.recentResult)("ngIfElse",e)}}var Le=(()=>{class t{constructor(e){this.f1Service=e,this.nextRace=null,this.isLoadingRaces=!0,this.raceError="",this.topDrivers=[],this.isLoadingDrivers=!0,this.driversError="",this.recentResult=null,this.isLoadingResults=!0,this.resultsError=""}ngOnInit(){this.loadNextRace(),this.loadTopDrivers(),this.loadRecentResults()}loadNextRace(){this.isLoadingRaces=!0,this.f1Service.getCurrentSeasonSchedule().subscribe({next:e=>{let c=new Date;this.nextRace=e.MRData.RaceTable.Races.find(a=>new Date(`${a.date}T${a.time||"00:00:00Z"}`)>c)||null,this.isLoadingRaces=!1},error:e=>{console.error("Error loading race schedule:",e),this.raceError="Unable to load race schedule. Please try again later.",this.isLoadingRaces=!1}})}loadTopDrivers(){this.isLoadingDrivers=!0,this.f1Service.getCurrentDriverStandings().subscribe({next:e=>{e.MRData.StandingsTable.StandingsLists.length>0&&(this.topDrivers=e.MRData.StandingsTable.StandingsLists[0].DriverStandings.slice(0,3)),this.isLoadingDrivers=!1},error:e=>{console.error("Error loading driver standings:",e),this.driversError="Unable to load driver standings. Please try again later.",this.isLoadingDrivers=!1}})}loadRecentResults(){this.isLoadingResults=!0;let e=2024;this.f1Service.getCurrentSeasonSchedule().subscribe({next:c=>{let a=new Date;console.log(c),console.log(a);let v=c.MRData.RaceTable.Races.filter(g=>new Date(`${g.date}T${g.time||"00:00:00Z"}`)<a);if(v.length>0){let g=v[v.length-1],E=parseInt(g.round,10);this.f1Service.getRaceResults(e,E).subscribe({next:I=>{I.MRData.RaceTable.Races.length>0&&(this.recentResult=I.MRData.RaceTable.Races[0]),this.isLoadingResults=!1},error:I=>{console.error("Error loading race results:",I),this.resultsError="Unable to load race results. Please try again later.",this.isLoadingResults=!1}})}else this.isLoadingResults=!1},error:c=>{console.error("Error loading race schedule:",c),this.resultsError="Unable to load race results. Please try again later.",this.isLoadingResults=!1}})}static{this.\u0275fac=function(c){return new(c||t)(O(z))}}static{this.\u0275cmp=u({type:t,selectors:[["app-home"]],decls:32,vars:6,consts:[["raceContent",""],["driversContent",""],["resultsContent",""],["noRaceContent",""],["noDriversContent",""],["noResultsContent",""],[1,"page-transition"],[1,"home-header","mb-4"],[1,"container"],[1,"text-white","mb-3"],[1,"text-white","mb-0"],[1,"mb-5"],[1,"section-title","mb-4"],[4,"ngIf","ngIfElse"],[1,"d-flex","justify-content-between","align-items-center","mb-4"],[1,"section-title","mb-0"],["routerLink","/standings",1,"btn","f1-btn","f1-btn-primary"],["routerLink","/results",1,"btn","f1-btn","f1-btn-primary"],[3,"message"],[3,"race"],["class","row",4,"ngIf","ngIfElse"],[1,"row"],["class","col-md-4 mb-4",4,"ngFor","ngForOf"],[1,"col-md-4","mb-4"],[3,"driver"],[3,"result"]],template:function(c,a){if(c&1&&(i(0,"div",6)(1,"div",7)(2,"div",8)(3,"h1",9),o(4,"F1 MANAGER"),n(),i(5,"p",10),o(6,"Your real-time Formula 1 data dashboard"),n()()(),i(7,"div",8)(8,"section",11)(9,"h2",12),o(10,"Next Race"),n(),p(11,oe,2,1,"div",13)(12,se,3,2,"ng-template",null,0,b),n(),i(14,"section",11)(15,"div",14)(16,"h2",15),o(17,"Driver Standings"),n(),i(18,"a",16),o(19,"View All"),n()(),p(20,ce,2,1,"div",13)(21,fe,3,2,"ng-template",null,1,b),n(),i(23,"section",11)(24,"div",14)(25,"h2",15),o(26,"Recent Results"),n(),i(27,"a",17),o(28,"View All"),n()(),p(29,ge,2,1,"div",13)(30,xe,3,2,"ng-template",null,2,b),n()()()),c&2){let v=h(13),g=h(22),E=h(31);r(11),l("ngIf",a.isLoadingRaces)("ngIfElse",v),r(9),l("ngIf",a.isLoadingDrivers)("ngIfElse",g),r(9),l("ngIf",a.isLoadingResults)("ngIfElse",E)}},dependencies:[C,L,_,S,N,F,H,j,U],styles:['.home-header[_ngcontent-%COMP%]{background-color:var(--f1-blue);padding:3rem 0;margin-top:-1rem;position:relative}.home-header[_ngcontent-%COMP%]:after{content:"";position:absolute;bottom:0;left:0;right:0;height:5px;background-color:var(--f1-red)}.section-title[_ngcontent-%COMP%]{font-size:1.75rem;font-weight:700;color:var(--f1-blue);position:relative;padding-left:.75rem}.section-title[_ngcontent-%COMP%]:before{content:"";position:absolute;left:0;top:.25rem;bottom:.25rem;width:4px;background-color:var(--f1-red);border-radius:2px}']})}}return t})();export{Le as HomeComponent};
